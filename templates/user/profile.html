<!--Herredamos de layout-->
{% extends "user/layout.html" %} {% block content %}
<div class="container p-3">
    <div class="row">
        <div class="col-12 col-md-7 mx-auto">
            <div class="jumbotron">
                <div class="row text-center">
                    <div class="text-center col-12">
                        <h2>{{ nombre }} {{ apellido }}</h2><br>
                    </div>
                    <div class="text-center col-12">
                        <form class="text-lg-right" action="/edit/user/{{ usuario }}" method="POST">
                            <div class="form-group row">
                                <label for="inputName" class="col-sm-4 col-form-label">Nombre</label>
                                <div class="col-sm-8">
                                    <input type="text" id="name" name="nombre" class="form-control" value="{{ nombre }}" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputLastname" class="col-sm-4 col-form-label">Apellidos</label>
                                <div class="col-sm-8">
                                    <input type="text" name="apellido" class="form-control" value="{{ apellido }}" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputUsername" class="col-sm-4 col-form-label">Usuario</label>
                                <div class="col-sm-8">
                                    <input type="text" name="username" tabindex="1" class="form-control" value="{{ usuario }}" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Contraseña</label>
                                <div class="col-sm-8">
                                    <input type="text" name="pass" class="form-control" value="{{contra}}" minlength="8" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputTel" class="col-sm-4 col-form-label" >Teléfono</label>
                                <div class="col-sm-8">
                                    <input type="tel" name="telefono"  readonly class="form-control" id="tel" value="{{ tel}}">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputDate" class="col-sm-4 col-form-label">Fecha de nacimiento</label>
                                <div class="col-sm-8">
                                    <input type="text" name="fecha" class="form-control" value="{{ fecha_nacimiento }}" required>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputDate" class="col-sm-4 col-form-label">Sexo</label>
                                <div class="col-sm-8">
                                        {% if sexo == "F" %}
                                        <input type="tel" name="sexo"  readonly class="form-control"  value="F">
                                        {% endif %}
                                        {% if sexo != "F" %}
                                        <input type="tel" name="sexo"  readonly class="form-control"  value="M">
                                        {% endif %}                          
                                </div>
                            </div>
                            <div class="text-center">
                                 <button type="submit" class="btn btn-warning">Guardar cambios</button>
                                <a href="/user/home/{{ usuario }}" type="button" class="btn btn-success">Regresar</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
{% with messages = get_flashed_messages() %} {% if messages %} {% for message in messages %} {% if message == "¡Usuario existente!" %}
<script>
    Swal.fire({
        icon: 'error',
        title: 'Oops...',
        text: '{{ message }}',
    })
</script>
{% endif %} {% if message != "¡Usuario existente!" %}
<script>
    Swal.fire(
        '{{ message }}',
        'Los datos del usuario han sido actualizados',
        'success'
    )
</script>
{% endif %} {% endfor %} {% endif %} {% endwith %} {% endblock %}